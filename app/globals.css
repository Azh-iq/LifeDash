@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@layer base {
  :root {
    /* Untitled UI + Financial Dashboard Integration */
    --color-primary: #1e40af;
    --color-primary-hover: #1d4ed8;

    /* Category-specific gradients - New 4 Main Areas */
    /* ðŸ”µ Investeringer (Investments) - Deep Navy Theme */
    --gradient-investments: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
    --gradient-investments-light: linear-gradient(
      135deg,
      #dbeafe 0%,
      #bfdbfe 100%
    );

    /* ðŸŸ£ Hobby Prosjekter (Hobby Projects) - Creative Purple Theme */
    --gradient-projects: linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%);
    --gradient-projects-light: linear-gradient(
      135deg,
      #f3e8ff 0%,
      #e9d5ff 100%
    );

    /* ðŸŸ¢ Ã˜konomi (Economy) - Financial Green Theme */
    --gradient-economy: linear-gradient(135deg, #059669 0%, #10b981 100%);
    --gradient-economy-light: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);

    /* ðŸŸ  VerktÃ¸y (Tools) - Utility Orange Theme */
    --gradient-tools: linear-gradient(135deg, #ea580c 0%, #f97316 100%);
    --gradient-tools-light: linear-gradient(135deg, #fed7aa 0%, #fdba74 100%);

    /* Neutral foundation (Untitled UI standard) */
    --color-gray-50: #f9fafb;
    --color-gray-100: #f3f4f6;
    --color-gray-200: #e5e7eb;
    --color-gray-300: #d1d5db;
    --color-gray-400: #9ca3af;
    --color-gray-500: #6b7280;
    --color-gray-600: #4b5563;
    --color-gray-700: #374151;
    --color-gray-800: #1f2937;
    --color-gray-900: #111827;

    /* Layout variables */
    --bg-main: var(--color-gray-50);
    --bg-card: #ffffff;
    --border-color: var(--color-gray-200);
    --text-primary: var(--color-gray-900);
    --text-secondary: var(--color-gray-600);

    /* Category color variables */
    --color-investments: #1e40af;
    --color-projects: #7c3aed;
    --color-economy: #059669;
    --color-tools: #ea580c;
  }

  * {
    border-color: var(--border-color);
  }

  body {
    font-family:
      'Inter',
      -apple-system,
      BlinkMacSystemFont,
      'Segoe UI',
      sans-serif;
    background-color: var(--bg-main);
    color: var(--text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Mobile optimizations */
    overscroll-behavior-y: none;
    -webkit-overflow-scrolling: touch;
    /* Support for safe area insets */
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  /* Mobile viewport height fix */
  html {
    height: 100%;
    height: -webkit-fill-available;
  }

  body {
    min-height: 100%;
    min-height: -webkit-fill-available;
  }

  /* Safe area support for mobile */
  .safe-area-inset-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-inset-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-area-inset-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-area-inset-right {
    padding-right: env(safe-area-inset-right);
  }

  /* Touch-friendly scrollbars */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
  }

  /* Mobile-specific scrollbar hiding */
  @media (max-width: 768px) {
    ::-webkit-scrollbar {
      display: none;
    }
    
    * {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  }
}

@layer components {
  /* Untitled UI + Financial Dashboard Component Styles */

  /* Enhanced card entrance animations */
  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .card-entrance {
    animation: slideInUp 0.6s ease-out forwards;
    opacity: 0;
  }

  /* Glass morphism effect (Untitled UI style) */
  .glass-effect {
    backdrop-filter: blur(10px);
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  /* Category-specific button styles */
  .btn-investments {
    @apply transform rounded-xl bg-investments-500 px-6 py-3 font-medium text-white transition-all duration-200 hover:scale-105 hover:bg-investments-600 focus:outline-none focus:ring-2 focus:ring-investments-500/20;
  }

  .btn-projects {
    @apply transform rounded-xl bg-projects-500 px-6 py-3 font-medium text-white transition-all duration-200 hover:scale-105 hover:bg-projects-600 focus:outline-none focus:ring-2 focus:ring-projects-500/20;
  }

  .btn-economy {
    @apply transform rounded-xl bg-economy-500 px-6 py-3 font-medium text-white transition-all duration-200 hover:scale-105 hover:bg-economy-600 focus:outline-none focus:ring-2 focus:ring-economy-500/20;
  }

  .btn-tools {
    @apply transform rounded-xl bg-tools-500 px-6 py-3 font-medium text-white transition-all duration-200 hover:scale-105 hover:bg-tools-600 focus:outline-none focus:ring-2 focus:ring-tools-500/20;
  }

  /* Enhanced input styles (Untitled UI standard) */
  .input-base {
    @apply w-full rounded-xl border border-gray-300 bg-white px-4 py-3 text-gray-900 placeholder-gray-500 transition-all duration-200 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20;
  }

  /* Enhanced card hover effects */
  .card-hover {
    @apply transform transition-all duration-300 hover:-translate-y-2 hover:shadow-xl;
  }

  /* Category-specific card styles */
  .card-investments {
    @apply transform rounded-xl border border-gray-200 bg-white shadow-md transition-all duration-300 hover:-translate-y-1 hover:border-investments-500 hover:shadow-xl;
  }

  .card-projects {
    @apply transform rounded-xl border border-gray-200 bg-white shadow-md transition-all duration-300 hover:-translate-y-1 hover:border-projects-500 hover:shadow-xl;
  }

  .card-economy {
    @apply transform rounded-xl border border-gray-200 bg-white shadow-md transition-all duration-300 hover:-translate-y-1 hover:border-economy-500 hover:shadow-xl;
  }

  .card-tools {
    @apply transform rounded-xl border border-gray-200 bg-white shadow-md transition-all duration-300 hover:-translate-y-1 hover:border-tools-500 hover:shadow-xl;
  }

  /* Category header styles with gradients */
  .header-investments {
    background: var(--gradient-investments);
    @apply rounded-xl text-white shadow-lg;
  }

  .header-projects {
    background: var(--gradient-projects);
    @apply rounded-xl text-white shadow-lg;
  }

  .header-economy {
    background: var(--gradient-economy);
    @apply rounded-xl text-white shadow-lg;
  }

  .header-tools {
    background: var(--gradient-tools);
    @apply rounded-xl text-white shadow-lg;
  }

  /* Light theme headers for sub-pages */
  .header-investments-light {
    background: var(--gradient-investments-light);
    @apply rounded-xl border border-investments-200 text-investments-700 shadow-lg;
  }

  /* Financial number styling (JetBrains Mono) */
  .financial-number {
    @apply font-mono font-bold tabular-nums;
  }

  /* Untitled UI icon styling */
  .ui-icon {
    @apply h-5 w-5;
    stroke-width: 2px;
  }

  .ui-icon-lg {
    @apply h-8 w-8;
    stroke-width: 2px;
  }

  /* Real-time price update animations */
  .price-flash-green {
    animation: flashGreen 1s ease-out;
  }

  .price-flash-red {
    animation: flashRed 1s ease-out;
  }

  .price-update {
    animation: priceUpdate 0.5s ease-out;
  }

  @keyframes flashGreen {
    0% {
      background-color: rgba(34, 197, 94, 0.2);
      transform: scale(1.02);
    }
    50% {
      background-color: rgba(34, 197, 94, 0.1);
      transform: scale(1.01);
    }
    100% {
      background-color: transparent;
      transform: scale(1);
    }
  }

  @keyframes flashRed {
    0% {
      background-color: rgba(239, 68, 68, 0.2);
      transform: scale(1.02);
    }
    50% {
      background-color: rgba(239, 68, 68, 0.1);
      transform: scale(1.01);
    }
    100% {
      background-color: transparent;
      transform: scale(1);
    }
  }

  @keyframes priceUpdate {
    0% {
      opacity: 0.7;
      transform: translateY(-2px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Pulse effect for live indicators */
  .live-pulse {
    animation: livePulse 2s ease-in-out infinite;
  }

  @keyframes livePulse {
    0%,
    100% {
      opacity: 1;
      box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);
    }
    50% {
      opacity: 0.8;
      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0);
    }
  }

  /* Mobile-First Responsive Design */
  
  /* Touch-optimized buttons */
  .btn-touch {
    @apply min-h-[44px] min-w-[44px] touch-manipulation;
  }

  /* Mobile navigation styles */
  .mobile-nav {
    @apply fixed bottom-0 left-0 right-0 z-50 border-t border-gray-200 bg-white/80 backdrop-blur-md;
    padding-bottom: env(safe-area-inset-bottom);
  }

  .mobile-nav-item {
    @apply flex flex-col items-center justify-center p-2 text-xs font-medium touch-manipulation;
    min-height: 60px;
  }

  /* Mobile card styles */
  .mobile-card {
    @apply rounded-xl border border-gray-200 bg-white p-4 shadow-sm;
  }

  .mobile-card-compact {
    @apply rounded-lg border border-gray-200 bg-white p-3 shadow-sm;
  }

  /* Swipe gesture styles */
  .swipe-container {
    @apply relative overflow-hidden touch-pan-x;
  }

  .swipe-actions {
    @apply absolute right-0 top-0 flex h-full items-center;
  }

  /* Pull-to-refresh styles */
  .pull-to-refresh {
    @apply relative overflow-hidden;
  }

  .pull-to-refresh-indicator {
    @apply absolute left-1/2 top-0 -translate-x-1/2 transform transition-all duration-300;
  }

  /* Mobile chart styles */
  .mobile-chart {
    @apply relative touch-none;
  }

  .mobile-chart-tooltip {
    @apply absolute z-10 rounded-lg bg-black/80 px-2 py-1 text-xs text-white;
  }

  /* Floating Action Button */
  .fab {
    @apply fixed bottom-20 right-4 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-blue-600 text-white shadow-lg transition-all duration-200 hover:bg-blue-700 active:scale-95;
    bottom: calc(80px + env(safe-area-inset-bottom));
  }

  /* Action Sheet styles */
  .action-sheet {
    @apply fixed inset-x-0 bottom-0 z-50 rounded-t-2xl bg-white shadow-xl;
    padding-bottom: env(safe-area-inset-bottom);
  }

  .action-sheet-handle {
    @apply mx-auto mt-4 h-1 w-12 rounded-full bg-gray-300;
  }

  /* Mobile-specific spacing utilities */
  .mobile-container {
    @apply mx-auto max-w-sm px-4;
  }

  .mobile-section {
    @apply space-y-4 pb-4;
  }

  /* Responsive breakpoint utilities */
  @media (min-width: 320px) {
    .xs\:block {
      display: block;
    }
    .xs\:hidden {
      display: none;
    }
  }

  /* Touch feedback animations */
  @keyframes touchFeedback {
    0% {
      transform: scale(1);
      background-color: transparent;
    }
    50% {
      transform: scale(0.98);
      background-color: rgba(0, 0, 0, 0.05);
    }
    100% {
      transform: scale(1);
      background-color: transparent;
    }
  }

  .touch-feedback {
    animation: touchFeedback 0.15s ease-out;
  }

  /* Haptic feedback styles */
  .haptic-light {
    @apply transition-transform duration-75 active:scale-98;
  }

  .haptic-medium {
    @apply transition-transform duration-100 active:scale-95;
  }

  .haptic-heavy {
    @apply transition-transform duration-150 active:scale-90;
  }

  /* Mobile menu animations */
  @keyframes slideInFromBottom {
    from {
      transform: translateY(100%);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slideOutToBottom {
    from {
      transform: translateY(0);
      opacity: 1;
    }
    to {
      transform: translateY(100%);
      opacity: 0;
    }
  }

  .mobile-menu-enter {
    animation: slideInFromBottom 0.3s ease-out forwards;
  }

  .mobile-menu-exit {
    animation: slideOutToBottom 0.3s ease-out forwards;
  }

  /* Swipe animations */
  @keyframes swipeLeft {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100px);
    }
  }

  @keyframes swipeRight {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(100px);
    }
  }

  .swipe-left {
    animation: swipeLeft 0.2s ease-out forwards;
  }

  .swipe-right {
    animation: swipeRight 0.2s ease-out forwards;
  }

  /* Progressive Web App styles */
  .pwa-install-prompt {
    @apply fixed bottom-24 left-4 right-4 z-40 rounded-xl bg-blue-600 p-4 text-white shadow-lg;
    bottom: calc(96px + env(safe-area-inset-bottom));
  }

  /* Dark mode optimizations for mobile */
  @media (prefers-color-scheme: dark) {
    .mobile-card {
      @apply border-gray-700 bg-gray-800;
    }

    .mobile-nav {
      @apply border-gray-700 bg-gray-900/80;
    }

    .action-sheet {
      @apply bg-gray-800;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .mobile-card {
      @apply border-2 border-black;
    }

    .btn-touch {
      @apply border-2 border-black;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .card-entrance,
    .mobile-menu-enter,
    .mobile-menu-exit,
    .swipe-left,
    .swipe-right,
    .touch-feedback {
      animation: none;
    }

    .haptic-light,
    .haptic-medium,
    .haptic-heavy {
      transform: none;
    }
  }

  /* Print optimizations for mobile */
  @media print {
    .mobile-nav,
    .fab,
    .action-sheet,
    .pwa-install-prompt {
      display: none !important;
    }

    .mobile-card {
      @apply border border-gray-300 shadow-none;
    }
  }
}

/* Utility layer for mobile-specific utilities */
@layer utilities {
  /* Touch manipulation utilities */
  .touch-pan-x {
    touch-action: pan-x;
  }

  .touch-pan-y {
    touch-action: pan-y;
  }

  .touch-pinch-zoom {
    touch-action: pinch-zoom;
  }

  .touch-manipulation {
    touch-action: manipulation;
  }

  .touch-none {
    touch-action: none;
  }

  /* Mobile-specific display utilities */
  .mobile-only {
    @apply block;
  }

  .desktop-only {
    @apply hidden;
  }

  @media (min-width: 768px) {
    .mobile-only {
      @apply hidden;
    }

    .desktop-only {
      @apply block;
    }
  }

  /* Safe area utilities */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pt-safe {
    padding-top: env(safe-area-inset-top);
  }

  .pl-safe {
    padding-left: env(safe-area-inset-left);
  }

  .pr-safe {
    padding-right: env(safe-area-inset-right);
  }

  /* Mobile viewport units */
  .h-screen-mobile {
    height: 100vh;
    height: -webkit-fill-available;
  }

  .min-h-screen-mobile {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }

  /* Responsive font sizes optimized for mobile */
  .text-responsive-xs {
    font-size: clamp(0.75rem, 2.5vw, 0.875rem);
  }

  .text-responsive-sm {
    font-size: clamp(0.875rem, 3vw, 1rem);
  }

  .text-responsive-base {
    font-size: clamp(1rem, 3.5vw, 1.125rem);
  }

  .text-responsive-lg {
    font-size: clamp(1.125rem, 4vw, 1.25rem);
  }

  .text-responsive-xl {
    font-size: clamp(1.25rem, 5vw, 1.5rem);
  }

  .text-responsive-2xl {
    font-size: clamp(1.5rem, 6vw, 2rem);
  }

  /* Mobile-optimized spacing */
  .space-mobile {
    @apply space-y-3;
  }

  @media (min-width: 768px) {
    .space-mobile {
      @apply space-y-6;
    }
  }

  /* Performance optimization utilities */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
  }

  .optimize-scrolling {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }

  /* Mobile-first grid utilities */
  .grid-mobile {
    @apply grid grid-cols-1 gap-4;
  }

  @media (min-width: 640px) {
    .grid-mobile {
      @apply grid-cols-2;
    }
  }

  @media (min-width: 1024px) {
    .grid-mobile {
      @apply grid-cols-3;
    }
  }
}
